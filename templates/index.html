[[extend 'layout.html']]

<style>
  [v-cloak] {
       display: none;
  }
</style>

<style>
  .box:not(.modal-box):hover {
  background-color: lightblue; /* Customize the highlight color */
  border: 1px solid lightblue; /* Customize the border color */
  }
</style>




<div class="section" id="vue-target">
  <button class="button is-link" @click="interonly">FILTER TO INTEREESTS</button>


  <!--Section for Search bar -->
  <div class="columns">
    <div class="column is-7">
      <p class="control has-icons-right">
        <input class="input is-rounded is-medium" type="text" v-model="query" @keydown="search" placeholder="Species">
        <span class="icon is-small is-right is-clickable" @click="clear_search">
          <i class="fa fa-times-circle"></i>
        </span>
      </p>
    </div>
  <!--Section for Search bar results -->
  </div>
  
  <div class="field" v-for="result in search_results">
    <div class="column is-7">
      <div class="box" @click="show_observation(result)">
        <div class="media">
          <div class="media-left">
            <figure class="image">
              <img :src="result.image_url" :alt="result.species_guess" style="height: 64px; width: 64px;"/>
            </figure>
          </div>
          <div class="media-content">
            <p class="title is-5">{{result.common_name}}</p>
            <p class="title is-6"><i>{{result.scientific_name}}</i></p>
          </div>
          <div class="media-right is-centered">
            <button class="button is-hoverable is-centered" @click.stop="add_interest(result)">Add Interest</button>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!--Section for Goolge Maps -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <div class="column">
  
    <title>Simple Map</title>
      <div class="section" id="map"></div>
    </div>
    <title>Fnote Map</title>
      <div class="section" id="map2"></div>
    </div>
    <div class="block">
      <div class="section" id="vue-target">
        <div class="has-text-weight-bold is-size-3">TESTINGG</div>
      </div>
    </div>

  <!-- Section for pop-up-->
  <div v-if="clicked_observation != null" class="modal is-active" >
    <div class="modal-background" @click="clicked_observation = null"></div>
    <button class="delete" aria-label="close" @click="clicked_observation = null"></button>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title is-size-3">{{ clicked_observation.common_name }}
          <span class="is-size-6"> ({{ clicked_observation.scientific_name }})</span>
        </p>
        <button class="delete" aria-label="close" @click="clicked_observation = null"></button>
      </header>
      <section class="modal-card-body">
        <div class="columns">
          <div class="column is-6">
            <img :src="clicked_observation.image_url" :alt="clicked_observation.species_guess" style="height: 326px; width: 312px;"/>
          </div>
          <div class="column is-6">
            <div class="box modal-box" style="width: 300px; height: 150px;">
              <p class="is-size-3 is-flex is-align-items-center">Location</p>
            </div>
            <div class="box modal-box" style="width: 300px; height: 150px;">
              <p class="is-size-3 is-flex is-align-items-center">iNat Link</p>
            </div>
          </div>
        </div>
        <p class="is-size-3"> Field Notes</p>
        <p class="is-size-4">This is where we will put the notes</p>
        <p class="is-size-4">notes notes notes</p>
        <p class="is-size-4">notes notes notes</p>
        <p class="is-size-4">notes notes notes</p>
        <p class="is-size-4">notes notes notes</p>
        <p class="is-size-4">
          helllo world hwllow woerjkfjskjfsjdfjsjjsd
          fjksdfjlkjsfkljkfjkfjklsdjfklsdjfkjsdkfjklj
          sdkfljslfjsdlkfjsklfjlskfjlkjfslkjlkfjklsjfklsfdj
          kljsfjfklsjfklsjfklsjfklsjfklfjskldfjskdlfjksdlf
          skjfsjflksjfkldsjfklsdjfklsjfksldfjklsfjklfjlkdfj
          skljsdjflksdfjklsdjfklsdjfklsjfklsdjfklsdjfklsfjsk
        </p>

      </section>
        
        <!-- Include additional information as needed -->
    </div>
    
  </div>
  
  

  

</div>
  

[[block page_scripts]]
<script>
  let observations_url = "[[=XML(observations_url)]]"
  let search_url = "[[=XML(search_url)]]"
  let add_interest_url = "[[=XML(add_interest_url)]]"
  let maps_api_key = "[[=XML(MAPS_API_KEY)]]"
  let getfieldnotes_url = "[[=XML(getfieldnotes_url)]]"
</script>
<script type="module" src="js/index.js"></script>
<script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
<script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
  ({key: "[[=XML(MAPS_API_KEY)]]", v: "beta"});</script>
<script type="module" src="js/index.js"></script>
[[end]]



 
